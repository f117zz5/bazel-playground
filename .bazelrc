# Bazel configuration file

# Enable bzlmod - use MODULE.bazel for dependency management
common --enable_bzlmod

# Force C++17 for cpr
build --cxxopt=-std=c++17

# GCC Toolchain Configurations
# Build with GCC 12.3 (default: stable-2024.02-1, glibc 2.39)
build:gcc12 --extra_toolchains=//toolchain:gcc_toolchain

# Build with GCC 10.3 (stable-2021.11-5, glibc 2.34, Ubuntu 20.04-like)
build:gcc10 --extra_toolchains=//toolchain:gcc10_toolchain

# Clang Toolchain Configuration
# Build with Clang 17.0.6 (via toolchains_llvm, dev_dependency in MODULE.bazel)
build:clang17 --extra_toolchains=@llvm_toolchain//:cc-toolchain-x86_64-linux

# -------------------------------------------------------------------
# When used as a DEPENDENCY (consumer references @hermetic_toolchains):
#
#   build:gcc12 --extra_toolchains=@hermetic_toolchains//toolchain:gcc_toolchain
#   build:gcc10 --extra_toolchains=@hermetic_toolchains//toolchain:gcc10_toolchain
#   build:clang17 --extra_toolchains=@llvm_toolchain//:cc-toolchain-x86_64-linux
# -------------------------------------------------------------------